<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Mechanics of Defect Evolution Library: Getting Started: a simple FR source</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mechanics of Defect Evolution Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_d_d_intro.html">Discrete Dislocation Dynamics (DDD)</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started: a simple FR source </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this tutorial we cover the necessary steps to get a minimal DD simulation running with MODEL. All files necessary to compile and run this tutorial are located in &lt;MODELDIR&gt;/tutorials/DislocationDynamics/FRsource.</p>
<h1><a class="anchor" id="FRsource_main"></a>
The source file (main.cpp)</h1>
<p>The source file is main.cpp. This file contains the following code: </p><div class="fragment"><div class="line"><span class="comment">/* This file is part of MODEL, the Mechanics Of Defect Evolution Library.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Copyright (C) 2012 by Giacomo Po &lt;gpo@ucla.edu&gt;</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * MODEL is distributed without any warranty under the</span></div>
<div class="line"><span class="comment"> * GNU General Public License (GPL) v2 &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define _MODEL_NON_SINGULAR_DD_ 1 </span><span class="comment">/* 1 = Cai&#39;s non-singular theory, 2 = Lazar&#39;s non-singular gradient theory */</span><span class="preprocessor"></span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_dislocation_network_8h.html">model/DislocationDynamics/DislocationNetwork.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacemodel.html">model</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="bench_2bary_search_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Create a DislocationNetwork object</span></div>
<div class="line">        </div>
<div class="line">    <a class="code" href="classmodel_1_1_dislocation_network.html">DislocationNetwork&lt;3,1,CatmullRom,UniformOpen&gt;</a> <a class="code" href="flat___indenter_2my_outputs_8h.html#a9bfc568865ede9b835cb8f6b16a42795">DN</a>(argc,argv);</div>
<div class="line">    <span class="comment">// Run the simulation</span></div>
<div class="line">    <a class="code" href="flat___indenter_2my_outputs_8h.html#a9bfc568865ede9b835cb8f6b16a42795">DN</a>.runSteps();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
</div><!-- fragment --><p> If you know a little C++, this code is pretty self-explanatory. After including the necessary headers, all we do in the main function is:</p><ul>
<li>create an instance, named DN, of type <a class="el" href="classmodel_1_1_dislocation_network.html">DislocationNetwork</a> by specifying a series of template parameters. These parameter are:<ul>
<li>3 is the dimensionality of the space (three dimensions)</li>
<li>1 is the degree of parametric continuity at the SplineNode(s): 0= position continuity, 1= position and tangent continuity, 2 = position, tangent, and curvature continuity.</li>
<li><a class="el" href="classmodel_1_1_catmull_rom.html">CatmullRom</a> is the type of splines used. Alternatively, you can use <a class="el" href="classmodel_1_1_hermite.html">Hermite</a> splines</li>
<li>centripetal is the type of spline parametrization used. Alternatively you can use uniform, or chordal</li>
<li>16 means that sixteen quadrature points per <a class="el" href="classmodel_1_1_dislocation_segment.html">DislocationSegment</a> are used for numerical integration</li>
<li><a class="el" href="structmodel_1_1_uniform_open.html" title="Class template defining the GaussLegendre rules for determination of quadrature abscissas and weights...">UniformOpen</a> is the type of quadrature used. Alternatively you can use <a class="el" href="structmodel_1_1_gauss_legendre.html" title="Class template defining the GaussLegendre rules for determination of quadrature abscissas and weights...">GaussLegendre</a>.</li>
</ul>
</li>
<li>call the method <a class="el" href="classmodel_1_1_dislocation_network.html#a1647925393fece935c5de23964bc2abf">DislocationNetwork::runSteps()</a> on DN. This runs a fixed number of simulations time steps defined by the variable <b>Nsteps</b> in the input file <b>DDinput.txt</b> (see below). Alternatively you can run the simulation for a fixed amount of time (see <a class="el" href="classmodel_1_1_dislocation_network.html#a23c25b8e7df21d43542fdc78e22e3787">DislocationNetwork::runTime()</a>). You can also call the two methods consecutively or place them in a more complex for loop.</li>
</ul>
<h1><a class="anchor" id="FRsource_makefile"></a>
Compiling: the Makefile</h1>
<p>If all necessary external libraries have been installed (see DD_installation), compilation of the source code above can conveniently be done using the provided Makefile. In order to use the Makefile, first change the working directory of your terminal into the directory containing the files of this tutorial: </p><pre class="fragment">cd &lt;MODELDIR&gt;/tutorials/DislocationDynamics/FRsource
</pre><p>The same Makefile can now be used to compile both the serial version and the parallel version (MPI) of the code. The serial version can be compiled executing the following command in your terminal: </p><pre class="fragment">make serial
</pre><p> This compiles the source code into the executable <b>DDserial</b>.</p>
<p>Similarly, The parallel version (MPI) of the code can be compiled using: </p><pre class="fragment">make parallel 
</pre><p> This creates the executable <b>DDparallel</b>. Compiling the parallel version requires that both <a class="el" href="openmpi.html">open-MPI</a> and <a class="el" href="metis.html">METIS</a> are correctly installed in your system.</p>
<h1><a class="anchor" id="FRsource_run"></a>
Running DDserial and DDparallel</h1>
<p>The serial version of the code can be run executing: </p><pre class="fragment">./DDserial
</pre><p>On the other hand, the parallel version of the code can be run executing: </p><pre class="fragment">mpirun -np N DDparallel
</pre><p> where <b>N</b> is the number of processors to be used.</p>
<p>Are you curious to see what running the code produced? Then jump to the next tutorial, where you learn how to use <a class="el" href="_d_d_visualization.html">The Dislocation Dynamics Viewer</a>. Otherwise, just keep reading for more explanation.</p>
<h1><a class="anchor" id="FRsource_input"></a>
Input files</h1>
<p>The first thing that a <a class="el" href="classmodel_1_1_dislocation_network.html">DislocationNetwork</a> does is to read the some input files. These files are:</p><ul>
<li>the vertex file V/V_0.txt</li>
<li>the edge file E/E_0.txt</li>
<li>the configuration file DDinput.txt</li>
</ul>
<h1><a class="anchor" id="FRsource_output"></a>
Output files</h1>
<p>In MODEL, code outputs are highly customizable. However, two standard outputs are always generated because they are needed for visualization and restart purposes. These are the vertex files and the edge files. These files are stored in different folders (the "V" folder and the "E" folder, respectively), and are numbered according to the simulation time step. For example, the 114-th simulation time step generates the following files:</p><ul>
<li>V/V_114.txt</li>
<li>E/E_114.txt</li>
</ul>
<p>These files have the exact same format of the files V/V_0.txt and E/E_0.txt that have been used as inputs. In fact, any output file can be used as an input file. To (re)start a simulation at a specific time step, say 114, change the parameter <b>startAtTimeStep</b> in DDinput.txt: </p><pre class="fragment">startAtTimeStep = 114;
</pre><p>The frequency of output can easily be set by the variable <b>outputFrequency</b> in <b>DDinput.txt</b>. For example, setting </p><pre class="fragment">outputFrequency=7;
</pre><p> will force the code to output files every 7 time simulation steps.</p>
<p>Other standard output files can optionally be generated by turning on some flags in DDinput.txt. These flags are: </p><pre class="fragment">outputGlidePlanes=1;
outputSpatialCells=1;
outputPKforce=1;
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 3 2015 17:40:55 for Mechanics of Defect Evolution Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
