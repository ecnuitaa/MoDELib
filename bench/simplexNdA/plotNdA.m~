close all
clear all
clc

dim=3;


%% Load
P=load('P/P_0.txt');
D=load('D/D_0.txt');

%% Plot
p=round(rand(1)*(size(P,1)/dim));
%p=744
%P(p:p+dim-1,1:dim+1)
%for p=0:size(P,1)/3-1

figure(1)
    clf
    hold on
grid on
axis equal
plot3(P(3*p+1,1:dim+1),P(3*p+2,1:dim+1),P(3*p+3,1:dim+1),'g')
plot3(P(3*p+1,[1 3]),P(3*p+2,[1 3]),P(3*p+3,[1 3]),'g')
plot3(P(3*p+1,[1 4]),P(3*p+2,[1 4]),P(3*p+3,[1 4]),'g')
plot3(P(3*p+1,[2 4]),P(3*p+2,[2 4]),P(3*p+3,[2 4]),'g')
Pc=mean(P(3*p+[1:dim],1:dim+1)')';
plot3(Pc(1),Pc(2),Pc(3),'ro')
set(gca,'View',[45 25])
%drawnow

for i=1:dim+1
F1=[mean(P(3*p+1,[2 3 4])) mean(P(3*p+2,[2 3 4])) mean(P(3*p+3,[2 3 4]))];
quiver3(F1(1),F1(2),F1(3),D(3*p+1,1),D(3*p+2,1),D(3*p+3,1),0.001,'b')
norm([D(3*p+1,1),D(3*p+2,1),D(3*p+3,1)])

%pause(0.1)
%end

