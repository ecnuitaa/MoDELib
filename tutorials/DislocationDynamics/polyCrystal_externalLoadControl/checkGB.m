clear all
close all
clc



figure(1)
clf
hold on
N=219;
for f=1:N
R=load(['rb' num2str(f) '.txt']);
for r=1:size(R,1)
plot3([R(r,1) R(r,4)],[R(r,2) R(r,5)],[R(r,3) R(r,6)],'bx-','Linewidth',2)
end


try
G=load(['gb' num2str(f) '.txt']);
patch(G(:,1),G(:,2),G(:,3),'g')
%end
for g=1:size(G,1)
gx=norm(G(g,:)-X);
    if gx<1
    gx
        G(g,:)
    
end
   % plot3([R(r,1) R(r,4)],[R(r,2) R(r,5)],[R(r,3) R(r,6)],'bx-','Linewidth',2)
end

end

end

axis equal

bb=[-8.719283744896180e+02 -6.024941952573718e+02 -5.592949683183869e+02 -1.438953300714455e+03 -8.630375820109175e+02 -2.528134288470954e+02
-1.438953300714455e+03 -8.630375820109175e+02 -2.528134288470954e+02 -1.962792239938903e+03 -1.311210009194859e+03 -1.771469168065893e+02
-1.962792239938903e+03 -1.311210009194859e+03 -1.771469168065893e+02 -1.962792239938903e+03 -2.020210111544073e+03 -8.861470191558030e+02
-1.962792239938903e+03 -2.020210111544073e+03 -8.861470191558030e+02 -8.721219514710982e+02 -2.020210111544073e+03 -1.976817307623608e+03
-8.721219514710982e+02 -2.020210111544073e+03 -1.976817307623608e+03 -8.275589594417642e+02 -1.975647119514739e+03 -1.976817307623608e+03
-8.275589594417642e+02 -1.975647119514739e+03 -1.976817307623608e+03 -6.767634979799916e+02 -8.045296789742815e+02 -9.564953285449230e+02
-6.767634979799916e+02 -8.045296789742815e+02 -9.564953285449230e+02 -7.852498450848288e+02 -6.901497895331659e+02 -7.336290919989702e+02
-7.852498450848288e+02 -6.901497895331659e+02 -7.336290919989702e+02 -8.719283744896180e+02 -6.024941952573718e+02 -5.592949683183869e+02];

format long
s=bb(:,[1:3])-bb(:,[4:6]);
for k=1:size(s,1)
k1=k+1;
if(k1>size(s,1))
k1=1;
end
norm(cross(s(k,:),s(k1,:)))/norm(s(k,:))/norm(s(k1,:))

end

%figure(1)
%clf
hold on
for b=1:size(bb,1)
plot3(bb(b,[1 4]),bb(b,[2 5]),bb(b,[4 6]),'r-o')
%drawnow
%pause(1)
end
P=[-8.097555847343538e+02 -6.653678142631942e+02 -6.843413770794735e+02]
plot3(P(1),P(2),P(3),'ro')
